# –ú–æ–¥—É–ª—å 23. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP-—Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ (FreePBX)

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](../README.md)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

* [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
* [–ß–∞—Å—Ç—å 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SangomaOS/FreePBX](#—á–∞—Å—Ç—å-1-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-sangomaosfreepbx)
* [–ß–∞—Å—Ç—å 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏](#—á–∞—Å—Ç—å-2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Å–µ—Ç–∏)
* [–ß–∞—Å—Ç—å 3: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ FreePBX](#—á–∞—Å—Ç—å-3-–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-freepbx)
* [–ß–∞—Å—Ç—å 4: –°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –Ω–æ–º–µ—Ä–æ–≤](#—á–∞—Å—Ç—å-4-—Å–æ–∑–¥–∞–Ω–∏–µ-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö-–Ω–æ–º–µ—Ä–æ–≤)
* [–ß–∞—Å—Ç—å 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SIP-–∫–ª–∏–µ–Ω—Ç–æ–≤](#—á–∞—Å—Ç—å-5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-sip-–∫–ª–∏–µ–Ω—Ç–æ–≤)
* [–ß–∞—Å—Ç—å 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤](#—á–∞—Å—Ç—å-6-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∑–≤–æ–Ω–∫–æ–≤)
* [–ü—Ä–æ–≤–µ—Ä–∫–∞](#–ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–í –¥–∞–Ω–Ω–æ–º –º–æ–¥—É–ª–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è IP-–ê–¢–° –Ω–∞ –±–∞–∑–µ FreePBX 16 (SangomaOS 7.8) –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π IP-—Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ –º–µ–∂–¥—É –æ—Ñ–∏—Å–∞–º–∏ COD –∏ A.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
| --- | --- |
| –°–µ—Ä–≤–µ—Ä | sip-cod |
| –û–° | SangomaOS 7.8 (SNG7-PBX16) |
| –í–µ—Ä—Å–∏—è FreePBX | 16 |
| –í–µ—Ä—Å–∏—è Asterisk | 18 |
| IP-–∞–¥—Ä–µ—Å | 192.168.50.50 |
| –ú–∞—Å–∫–∞ | 255.255.255.0 |
| –®–ª—é–∑ | 192.168.50.254 |
| DNS | 192.168.10.1 |
| SIP –ø–æ—Ä—Ç | 5060 (UDP) |
| VLAN | 500 (VOIP) |

**–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
| --- | --- |
| root –ø–∞—Ä–æ–ª—å | P@ssw0rd |
| –ê–¥–º–∏–Ω FreePBX | admin |
| –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞ | P@ssw0rd |

**–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º:**
| –ù–æ–º–µ—Ä | –ö–ª–∏–µ–Ω—Ç | –û—Ñ–∏—Å | IP-–∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞ | VLAN |
| --- | --- | --- | --- | --- |
| 1001 | admin-cod | COD | 192.168.30.30 | 300 (MGMT-COD) |
| 1002 | cli-cod | COD | 192.168.40.10 | 400 (CLI) |
| 2001 | cli1-a | OFFICE-A | 192.168.20.10 | 200 (CLI) |
| 2002 | cli2-a | OFFICE-A | 192.168.20.20 | 200 (CLI) |

---

## –ß–∞—Å—Ç—å 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SangomaOS/FreePBX

### sip-cod (SNG7-PBX16)

#### –®–∞–≥ 1.1: –í—ã–±–æ—Ä —Ç–∏–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å ISO-–æ–±—Ä–∞–∑–∞ SangomaOS –ø–æ—è–≤–∏—Ç—Å—è –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –≤–µ—Ä—Å–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

![–í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ FreePBX](../images/freepbx-install-1.png)

–í—ã–±–µ—Ä–∏—Ç–µ **FreePBX 16 Installation (Asterisk 18) - Recommended** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è).

> **üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
> - **Asterisk 18** - —ç—Ç–æ LTS (Long Term Support) –≤–µ—Ä—Å–∏—è —Å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
> - **Asterisk 19** - –±–æ–ª–µ–µ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è, –Ω–æ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
> - –î–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **Asterisk 18**

#### –®–∞–≥ 1.2: –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

![–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](../images/freepbx-install-2.png)

–í—ã–±–µ—Ä–∏—Ç–µ **Graphical Installation - Output to VGA** –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- **Graphical Installation - Output to VGA** ‚úÖ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Graphical Installation via VNC - Output to Serial** (–¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- **Fully Automatic Installation** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫)

#### –®–∞–≥ 1.3: –í—ã–±–æ—Ä —Ç–∏–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

![–í—ã–±–æ—Ä —Ç–∏–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ FreePBX](../images/freepbx-install-3.png)

–í—ã–±–µ—Ä–∏—Ç–µ **FreePBX Standard**.

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
- Asterisk 18
- FreePBX 16
- –ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏
- MariaDB (MySQL)
- Apache –≤–µ–±-—Å–µ—Ä–≤–µ—Ä

> **‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç:
> - –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –±–æ–ª–µ–µ 2 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö HDD, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω RAID
> - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ

#### –®–∞–≥ 1.4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è root

–í–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è —ç–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

![–≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](../images/freepbx-install-4.png)

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ **ROOT PASSWORD** (–æ—Ç–º–µ—á–µ–Ω –∫—Ä–∞—Å–Ω—ã–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º "Root password is not set").

![–í–≤–æ–¥ –ø–∞—Ä–æ–ª—è root](../images/freepbx-install-5.png)

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å root:
- **Root Password:** `P@ssw0rd`
- **Confirm:** `P@ssw0rd`

–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π, –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ **"Too short"**, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –Ω–∞–∂–∞–≤ **Done** –¥–≤–∞–∂–¥—ã.

> **üí° –°–æ–≤–µ—Ç:** –í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å!

–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤. –ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ **"Starting package installation process"**.

![–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞](../images/freepbx-install-6.png)

–ö–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞—Ç—É—Å:
- **ROOT PASSWORD**: Root password is set ‚úÖ
- **USER CREATION**: User asterisk will be created

–í–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ **"Installing nodejs (287/739)"** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

#### –®–∞–≥ 1.5: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

![–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](../images/freepbx-install-7.png)

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
- **"Complete!"**
- **"SangomaOS 7.8 is now successfully installed and ready for you to use!"**
- **"Go ahead and reboot to start using it!"**

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Reboot** –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã.

> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è Reboot –∏–∑–≤–ª–µ–∫–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π ISO-–æ–±—Ä–∞–∑ –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–≤–æ–¥–∞, —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å —Å –∂—ë—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞.

---

## –ß–∞—Å—Ç—å 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏

### sip-cod (SNG7-PBX16)

#### –®–∞–≥ 2.1: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É:
- **Login:** `root`
- **Password:** `P@ssw0rd`

#### –®–∞–≥ 2.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `/etc/sysconfig/network-scripts/ifcfg-eth0`:

```bash
nano /etc/sysconfig/network-scripts/ifcfg-eth0
```

![–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ç–∏](../images/freepbx-network-config.png)

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```ini
TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="static"
IPADDR="192.168.50.50"
NETMASK="255.255.255.0"
GATEWAY="192.168.50.254"
DNS1="192.168.10.1"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="eth0"
DEVICE="eth0"
ONBOOT="yes"
```

**–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `BOOTPROTO="static"` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP
- `IPADDR="192.168.50.50"` - IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `NETMASK="255.255.255.0"` - –º–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏ (/24)
- `GATEWAY="192.168.50.254"` - —à–ª—é–∑ (fw-cod)
- `DNS1="192.168.10.1"` - DNS —Å–µ—Ä–≤–µ—Ä
- `ONBOOT="yes"` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª: `Ctrl+O`, `Enter`, `Ctrl+X`.

#### –®–∞–≥ 2.3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

```bash
reboot
```

#### –®–∞–≥ 2.4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
ip -c -br -4 a
ip -c r
cat /etc/resolv.conf
```

![–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏](../images/freepbx-network-verify.png)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
eth0             UP             192.168.50.50/24
```

```
default via 192.168.50.254 dev eth0
192.168.50.0/24 dev eth0 proto kernel scope link src 192.168.50.50
```

```
nameserver 192.168.10.1
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–Ω–æ—Å—Ç–∏:**
```bash
ping -c 3 192.168.50.254  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–ª—é–∑–∞
ping -c 3 192.168.10.1    # –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
ping -c 3 8.8.8.8         # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
```

---

## –ß–∞—Å—Ç—å 3: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ FreePBX

### admin-cod (alt-workstation)

#### –®–∞–≥ 3.1: –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ `http://192.168.50.50`

> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
> - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞: `ping 192.168.50.50` —Å admin-cod
> - –ü—Ä–∞–≤–∏–ª–∞ firewall –Ω–∞ fw-cod –¥–ª—è –ø–æ—Ä—Ç–∞ 80/TCP –∏–∑ VLAN 300 –≤ VLAN 500
> - –°—Ç–∞—Ç—É—Å Apache: –Ω–∞ sip-cod –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `systemctl status httpd`

#### –®–∞–≥ 3.2: –°–æ–∑–¥–∞–Ω–∏–µ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

![–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ FreePBX](../images/freepbx-initial-setup.png)

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ **Initial Setup** –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –≤ —Ä–∞–∑–¥–µ–ª–µ **Administrator User**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| **Username** | `admin` | –õ–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| **Password** | `P@ssw0rd` | –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| **Confirm Password** | `P@ssw0rd` | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è |

–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è –ø–æ–∫–∞–∂–µ—Ç **"Really Weak"** - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã.

–í —Ä–∞–∑–¥–µ–ª–µ **System Notifications Email**:
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
| --- | --- |
| **Notifications Email address** | `admin@cod.ssa2026.region` |

–í —Ä–∞–∑–¥–µ–ª–µ **System Identification**:
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
| --- | --- |
| **System Identifier** | `VoIP Server` |

–í —Ä–∞–∑–¥–µ–ª–µ **System Updates** –æ—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- Automatic Module Updates: **Enabled**
- Automatic Module Security Updates: **Enabled**
- Send Security Emails For Unsigned Modules: **Enabled**
- Check for Updates every: **Saturday**
- Between 8am and 12pm

–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –Ω–∞–∂–º–∏—Ç–µ **Submit** (–≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã).

#### –®–∞–≥ 3.3: –í—ã–±–æ—Ä –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

![–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é FreePBX](../images/freepbx-main-menu.png)

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤—ã–±–æ—Ä –ø–∞–Ω–µ–ª–µ–π:

- **FreePBX Administration** üîß ‚Üê –≤—ã–±–µ—Ä–∏—Ç–µ —ç—Ç—É
- **User Control Panel** ‚öôÔ∏è
- **Operator Panel** üìã
- **Get Support** üéß

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ **FreePBX Administration** –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å.

#### –®–∞–≥ 3.4: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

![–û–∫–Ω–æ –≤—Ö–æ–¥–∞](../images/freepbx-login.png)

–ü–æ—è–≤–∏—Ç—Å—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ **Login**:
- **Username:** `admin`
- **Password:** `‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢` (–≤–≤–µ–¥–∏—Ç–µ `P@ssw0rd`)

–ù–∞–∂–º–∏—Ç–µ **Continue**.

#### –®–∞–≥ 3.5: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π—Ä–≤–æ–ª–∞

![Sangoma Smart Firewall](../images/freepbx-firewall.png)

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –ø–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ **Sangoma Smart Firewall**:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: **"Sangoma Smart Firewall is now enabled!"**
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ñ–∞–µ—Ä–≤–æ–ª

–ù–∞–∂–º–∏—Ç–µ **Abort** –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ firewall.

> **üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú—ã –æ—Ç–∫–ª—é—á–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π firewall FreePBX, —Ç–∞–∫ –∫–∞–∫ –∑–∞—â–∏—Ç–∞ —Å–µ—Ç–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ fw-cod (Ideco NGFW). –í–∫–ª—é—á–µ–Ω–∏–µ –¥–≤—É—Ö firewall –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –ø—Ä–∞–≤–∏–ª.

–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è **Abort** –≤—ã –ø–æ–ø–∞–¥—ë—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –ø–∞–Ω–µ–ª—å FreePBX.

---

## –ß–∞—Å—Ç—å 4: –°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –Ω–æ–º–µ—Ä–æ–≤

### admin-cod (alt-workstation)

#### –®–∞–≥ 4.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SIP Channel Driver (CHAN_SIP)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é FreePBX 16 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PJSIP**. –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º SIP-–∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–∫–ª—é—á–∏–º—Å—è –Ω–∞ **CHAN_SIP**.

**–®–∞–≥ 4.1.1:** –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Advanced Settings**

**–®–∞–≥ 4.1.2:** –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä **SIP Channel Driver**

![SIP Channel Driver](../images/freepbx-sip-channel-driver.png)

–í—ã–±–µ—Ä–∏—Ç–µ **chan_sip** –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ.

–ù–∞–∂–º–∏—Ç–µ **Submit** –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

#### –®–∞–≥ 4.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SIP Bind Port

**–®–∞–≥ 4.2.1:** –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Asterisk SIP Settings**

**–®–∞–≥ 4.2.2:** –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä **Bind Port**

![Bind Port](../images/freepbx-bind-port.png)

–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç —Å **5160** –Ω–∞ **5060** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SIP –ø–æ—Ä—Ç).

–ù–∞–∂–º–∏—Ç–µ **Submit** –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

#### –®–∞–≥ 4.3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

![Apply Config](../images/freepbx-apply-config.png)

–í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–æ—è–≤–∏—Ç—Å—è –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ **Apply Config** —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π.

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –¥–∏–∞–ª–æ–≥–µ –±—É–¥–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—É–Ω–∫—Ç–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ **Yes/No**. –ù–∞–∂–º–∏—Ç–µ **Yes** –Ω–∞ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–∞—Ö.

–ü–æ—è–≤–∏—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä **"Reloading..."** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º.

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ sip-cod**:

```bash
reboot
```

> **üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ Asterisk —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π CHAN_SIP –Ω–∞ –ø–æ—Ä—Ç—É 5060.

#### –®–∞–≥ 4.4: –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –Ω–æ–º–µ—Ä–∞–º

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–π–¥–∏—Ç–µ:

**Applications** ‚Üí **Extensions**

#### –®–∞–≥ 4.5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞

![–î–æ–±–∞–≤–ª–µ–Ω–∏–µ Extension](../images/freepbx-add-extension.png)

–ù–∞–∂–º–∏—Ç–µ **+ Add Extension** (–≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é) –∏ –≤—ã–±–µ—Ä–∏—Ç–µ:

**+ Add New SIP (Legacy) [chan_sip] Extension**

> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –í—ã–±–∏—Ä–∞–π—Ç–µ –∏–º–µ–Ω–Ω–æ **SIP (Legacy) [chan_sip]**, –∞ –Ω–µ PJSIP!

#### –®–∞–≥ 4.6: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –¥–ª—è –Ω–æ–º–µ—Ä–∞ 1001

![–§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è Extension](../images/freepbx-extension-form.png)

–ù–∞ –≤–∫–ª–∞–¥–∫–µ **General** –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

**–†–∞–∑–¥–µ–ª ‚ñ¨ Add Extension:**

–í —Å–∏–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–æ–ª–æ—Å–µ —É–∫–∞–∑–∞–Ω–æ:
- **"This device uses CHAN_SIP technology listening on Port 5060 (UDP)"**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| **User Extension** | `1001` | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä |
| **Display Name** | `1001` | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è |
| **Outbound CID** | `1001` | Caller ID –¥–ª—è –∏—Å—Ö–æ–¥—è—â–∏—Ö |
| **Emergency CID** | `1001` | Caller ID –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö |
| **Secret** | `P@ssw0rd` | –ü–∞—Ä–æ–ª—å –¥–ª—è SIP-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |

–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è –ø–æ–∫–∞–∂–µ—Ç **"Really Weak"** - —ç—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è —É—á–µ–±–Ω–æ–π —Å—Ä–µ–¥—ã.

–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –Ω–∞–∂–º–∏—Ç–µ **Submit**.

#### –®–∞–≥ 4.7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è

![Extension —Å–æ–∑–¥–∞–Ω](../images/freepbx-extension-created.png)

–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è **Submit** –≤—ã –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –∫ —Å–ø–∏—Å–∫—É Extensions. –í —Ç–∞–±–ª–∏—Ü–µ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä:

| Extension | Name | CW | DND | FM/FM | CF | CFB | CFU | Type | Actions |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| **1001** | 1001 | ‚òë | ‚òê | ‚òê | ‚òê | ‚òê | ‚òê | sip | ‚úèÔ∏è üóëÔ∏è |

–í–Ω–∏–∑—É –±—É–¥–µ—Ç –Ω–∞–¥–ø–∏—Å—å: **"Showing 1 to 1 of 1 rows"**

#### –®–∞–≥ 4.8: –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–æ–º–µ—Ä–æ–≤

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–æ–º–µ—Ä–∞, –ø–æ–≤—Ç–æ—Ä—è—è —à–∞–≥–∏ 4.5-4.7 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ:

![–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö Extensions](../images/freepbx-extensions-list.png)

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –Ω–æ–º–µ—Ä–æ–≤:**

| Extension | Name | Secret | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | IP –∫–ª–∏–µ–Ω—Ç–∞ | –û—Ñ–∏—Å |
| --- | --- | --- | --- | --- | --- |
| **1001** | 1001 | P@ssw0rd | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä COD | 192.168.30.30 | COD |
| **1002** | 1002 | P@ssw0rd | –ö–ª–∏–µ–Ω—Ç COD | 192.168.40.10 | COD |
| **2001** | 2001 | P@ssw0rd | –ö–ª–∏–µ–Ω—Ç 1 OFFICE-A | 192.168.20.10 | OFFICE-A |
| **2002** | 2002 | P@ssw0rd | –ö–ª–∏–µ–Ω—Ç 2 OFFICE-A | 192.168.20.20 | OFFICE-A |

–í —Ç–∞–±–ª–∏—Ü–µ Extensions –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤—Å–µ 4 –Ω–æ–º–µ—Ä–∞:
- 1001, 1002, 2001, 2002
- –í—Å–µ —Å —Ç–∏–ø–æ–º **sip**
- –í—Å–µ —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º **Call Waiting** (CW) ‚òë

> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ:
> - User Extension = –Ω–æ–º–µ—Ä (1001, 1002, 2001, 2002)
> - Display Name = –Ω–æ–º–µ—Ä
> - Outbound CID = –Ω–æ–º–µ—Ä
> - Emergency CID = –Ω–æ–º–µ—Ä
> - Secret = P@ssw0rd

#### –®–∞–≥ 4.9: –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö 4 –Ω–æ–º–µ—Ä–æ–≤ –Ω–∞–∂–º–∏—Ç–µ **Apply Config** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ sip-cod:

```bash
reboot
```

---

## –ß–∞—Å—Ç—å 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SIP-–∫–ª–∏–µ–Ω—Ç–æ–≤

### admin-cod, cli-cod, cli1-a, cli2-a (alt-workstation)

> **üìå –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –∏–∑ 4 –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤**

#### –®–∞–≥ 5.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Ñ—Ç—Ñ–æ–Ω–∞

–û—Ç–∫—Ä–æ–π—Ç–µ **–¶–µ–Ω—Ç—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** (Applications) –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è VoIP-–∑–≤–æ–Ω–∫–æ–≤.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- **–í—ã–∑–æ–≤—ã** (GNOME Calls) - –ø—Ä–æ—Å—Ç–æ–π –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π
- **Linphone** - –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π SIP-–∫–ª–∏–µ–Ω—Ç
- **Ekiga** - —Å—Ç–∞—Ä—ã–π, –Ω–æ –Ω–∞–¥—ë–∂–Ω—ã–π
- **Zoiper** - –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π, –Ω–æ —Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–í—ã–∑–æ–≤—ã** (GNOME Calls).

#### –®–∞–≥ 5.2: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–í—ã–∑–æ–≤—ã** –∏–∑ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

#### –®–∞–≥ 5.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ VoIP

–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **–£—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ VoIP** –∏–ª–∏ **VoIP Accounts**.

#### –®–∞–≥ 5.4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SIP-–∞–∫–∫–∞—É–Ω—Ç–∞

–ù–∞–∂–º–∏—Ç–µ **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å** –∏–ª–∏ **Add Account**.

**–§–æ—Ä–º–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SIP-–∞–∫–∫–∞—É–Ω—Ç–∞ (–ø—Ä–∏–º–µ—Ä –¥–ª—è admin-cod):**

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SIP-–∞–∫–∫–∞—É–Ω—Ç–∞](../images/freepbx-softphone-config.png)

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| --- | --- | --- |
| **–°–µ—Ä–≤–µ—Ä** | `192.168.50.50` | IP-–∞–¥—Ä–µ—Å sip-cod |
| **–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)** | `admin-cod` | –í–∞—à–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è |
| **ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | `1001` | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞) |
| **–ü–∞—Ä–æ–ª—å** | `P@ssw0rd` | –ü–∞—Ä–æ–ª—å –∏–∑ Extension |
| **–ü–æ—Ä—Ç** | `5060` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SIP –ø–æ—Ä—Ç |
| **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç** | `UDP` | –ü—Ä–æ—Ç–æ–∫–æ–ª —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ |

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤** –≤–∫–ª—é—á—ë–Ω
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –≤–∫–ª—é—á—ë–Ω (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞–º:**
| –ö–ª–∏–µ–Ω—Ç | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è | IP-–∞–¥—Ä–µ—Å |
| --- | --- | --- | --- |
| admin-cod | 1001 | admin-cod | 192.168.30.30 |
| cli-cod | 1002 | cli-cod | 192.168.40.10 |
| cli1-a | 2001 | cli1-a | 192.168.20.10 |
| cli2-a | 2002 | cli2-a | 192.168.20.20 |

–ù–∞–∂–º–∏—Ç–µ **–î–æ–±–∞–≤–∏—Ç—å** –∏–ª–∏ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**.

#### –®–∞–≥ 5.5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Å–æ—Ñ—Ç—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:

![–£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è](../images/freepbx-softphone-registered.png)

–í —Ä–∞–∑–¥–µ–ª–µ **–£—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ VoIP** –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —É—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å:
- **–ò–º—è:** `admin-cod`
- **–ù–æ–º–µ—Ä:** `1001@192.168.50.50`
- **–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å:** –≤–∫–ª—é—á—ë–Ω (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)

–ò–Ω–¥–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
- ‚úÖ –ó–µ–ª—ë–Ω–∞—è –æ—Ç–º–µ—Ç–∫–∞ –∏–ª–∏ –≤–∫–ª—é—á—ë–Ω–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞: `1001@192.168.50.50`
- ‚úÖ –°—Ç–∞—Ç—É—Å **Online** / **–û–Ω–ª–∞–π–Ω** / **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω**

> **‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
> 
> –ï—Å–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:
> 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤—è–∑–Ω–æ—Å—Ç—å: `ping 192.168.50.50` —Å –∫–ª–∏–µ–Ω—Ç–∞
> 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 5060/UDP –æ—Ç–∫—Ä—ã—Ç –Ω–∞ fw-cod –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ VLAN –≤ VLAN 500
> 3. –ù–∞ sip-cod –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é: `asterisk -rx "sip show peers"`
> 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f /var/log/asterisk/full` –Ω–∞ sip-cod
> 5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Extension

---

## –ß–∞—Å—Ç—å 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ó–≤–æ–Ω–æ–∫ –≤–Ω—É—Ç—Ä–∏ –æ—Ñ–∏—Å–∞ COD (1001 ‚Üí 1002)

#### –®–∞–≥ 6.1: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –∑–≤–æ–Ω–∫–∞

–ù–∞ **admin-cod** (–Ω–æ–º–µ—Ä 1001) –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–æ—Ñ—Ç—Ñ–æ–Ω –∏ –Ω–∞–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä **1002**.

#### –®–∞–≥ 6.2: –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫

–ù–∞ **cli-cod** (–Ω–æ–º–µ—Ä 1002) –ø–æ—è–≤–∏—Ç—Å—è –≤—Ö–æ–¥—è—â–∏–π –≤—ã–∑–æ–≤:

![–í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫ –Ω–∞ 1002](../images/freepbx-call-incoming-1002.png)

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ:
- –ù–æ–º–µ—Ä –∑–≤–æ–Ω—è—â–µ–≥–æ: `sip:1001@192.168.50.50:5060`
- –°—Ç–∞—Ç—É—Å: "–í—ã–∑–æ–≤..." –∏–ª–∏ "–í—Ö–æ–¥—è—â–∏–π –≤—ã–∑–æ–≤"
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: üîì "–≠—Ç–æ—Ç –≤—ã–∑–æ–≤ –Ω–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω"

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **–ø—Ä–∏–Ω—è—Ç—å –≤—ã–∑–æ–≤** (–∑–µ–ª—ë–Ω–∞—è —Ç—Ä—É–±–∫–∞ üìû).

#### –®–∞–≥ 6.3: –ê–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä

–ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –≤—ã–∑–æ–≤–∞ –Ω–∞ –æ–±–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏:

**–ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ 1002 (cli-cod):**

![–ê–∫—Ç–∏–≤–Ω—ã–π –∑–≤–æ–Ω–æ–∫ 1002](../images/freepbx-call-incoming-1002-active.png)

**–ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ 1001 (admin-cod) –∏ 1002 (cli-cod):**

![–ê–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã](../images/freepbx-call-active-1001-1002.png)

![–¢–∞–π–º–µ—Ä —Ä–∞–∑–≥–æ–≤–æ—Ä–∞](../images/freepbx-call-active-1001-1002-timer.png)

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- **–¢–∞–π–º–µ—Ä –∑–≤–æ–Ω–∫–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, "00:12" - 12 —Å–µ–∫—É–Ω–¥ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞)
- **–ù–æ–º–µ—Ä —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞** (`sip:1001@192.168.50.50`)
- **–°—Ç–∞—Ç—É—Å "–≠—Ç–æ—Ç –≤—ã–∑–æ–≤ –Ω–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω"** üîì
- **–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
  - üîá –û—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
  - üîä –ì—Ä–æ–º–∫–∞—è —Å–≤—è–∑—å
  - ‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤
  - ‚è∏Ô∏è –£–¥–µ—Ä–∂–∏–≤–∞—Ç—å
  - üî¢ –ü–∞–Ω–µ–ª—å –Ω–∞–±–æ—Ä–∞
  - ‚ùå –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–∑–æ–≤ (–∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –û–±–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–ª—ã—à–∞—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- ‚úÖ –¢–∞–π–º–µ—Ä –∑–≤–æ–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–µ—Ç —ç—Ö–∞ –∏–ª–∏ –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞ —Ö–æ—Ä–æ—à–µ–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–≤–æ–Ω–æ–∫ –º–µ–∂–¥—É –æ—Ñ–∏—Å–∞–º–∏ (1001 ‚Üí 2001)

#### –®–∞–≥ 6.4: –ú–µ–∂–¥—É–≥–æ—Ä–æ–¥–Ω–∏–π –∑–≤–æ–Ω–æ–∫

–ù–∞ **admin-cod** (1001) –Ω–∞–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä **2001** –¥–ª—è –∑–≤–æ–Ω–∫–∞ –≤ OFFICE-A.

![–ó–≤–æ–Ω–æ–∫ 1001 ‚Üí 2001](../images/freepbx-call-1001-2001.png)

–ù–∞ **cli1-a** (2001) –ø—Ä–∏–º–∏—Ç–µ –≤—Ö–æ–¥—è—â–∏–π –≤—ã–∑–æ–≤.

#### –®–∞–≥ 6.5: –ê–∫—Ç–∏–≤–Ω—ã–π –º–µ–∂–¥—É–≥–æ—Ä–æ–¥–Ω–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä

![–ê–∫—Ç–∏–≤–Ω—ã–π –∑–≤–æ–Ω–æ–∫ –º–µ–∂–¥—É –æ—Ñ–∏—Å–∞–º–∏](../images/freepbx-call-1001-2001-timer.png)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ó–≤–æ–Ω–æ–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ GRE —Ç—É–Ω–Ω–µ–ª—å –º–µ–∂–¥—É –æ—Ñ–∏—Å–∞–º–∏
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (< 100ms)
- ‚úÖ –ù–µ—Ç —Ä–∞–∑—Ä—ã–≤–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

> **üí° –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:**
> –ù–∞ sip-cod –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
> ```bash
> asterisk -rx "core show channels verbose"
> asterisk -rx "rtp show stats"
> ```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤–æ–Ω–∫–æ–≤

#### –ó–≤–æ–Ω–æ–∫ 1001 ‚Üí 2002

![–ó–≤–æ–Ω–æ–∫ 1001 ‚Üí 2002](../images/freepbx-call-1001-2002.png)

![–¢–∞–π–º–µ—Ä –∑–≤–æ–Ω–∫–∞ 1001 ‚Üí 2002](../images/freepbx-call-1001-2002-timer.png)

**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- admin-cod (1001) ‚Üí cli2-a (2002)
- –û—Ñ–∏—Å COD ‚Üí –û—Ñ–∏—Å OFFICE-A
- VLAN 300 ‚Üí —Ç—É–Ω–Ω–µ–ª—å GRE ‚Üí VLAN 200

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò—Å—Ç–æ—Ä–∏—è –∑–≤–æ–Ω–∫–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –≤—ã–∑–æ–≤–æ–≤:

![–ò—Å—Ç–æ—Ä–∏—è –≤—ã–∑–æ–≤–æ–≤](../images/freepbx-calls-history.png)

–í —Å–ø–∏—Å–∫–µ **–ù–µ–¥–∞–≤–Ω–∏–µ** –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:
- **2002** - –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–≤–æ–Ω–æ–∫ (–≤—Ä–µ–º—è 14:23)
- **2001** - –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–≤–æ–Ω–æ–∫ (–≤—Ä–µ–º—è 14:20)
- **1002** - –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫ (–≤—Ä–µ–º—è 14:07)
- –ò–∫–æ–Ω–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ üìû –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∑–≤–æ–Ω–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∂—É—Ä–Ω–∞–ª–∞:**
- ‚úÖ –í—Å–µ –≤—ã–∑–æ–≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ –∑–≤–æ–Ω–∫–∞
- ‚úÖ –í–∏–¥–Ω—ã –Ω–æ–º–µ—Ä–∞ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∑–≤–æ–Ω–∞ –ø–æ –∫–ª–∏–∫—É

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ sip-cod

```bash
asterisk -rx "sip show peers"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Name/username    Host              Dyn  Forcerport  Comedia  ACL  Port   Status      
1001/1001        192.168.30.30     D    Auto (No)   No       A    5060   OK (8 ms)
1002/1002        192.168.40.10     D    Auto (No)   No       A    5060   OK (12 ms)
2001/2001        192.168.20.10     D    Auto (No)   No       A    5060   OK (15 ms)
2002/2002        192.168.20.20     D    Auto (No)   No       A    5060   OK (18 ms)
4 sip peers [Monitored: 4 online, 0 offline Unmonitored: 0 online, 0 offline]
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:**
- **Dyn (D)** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- **Status OK** - –ø–∏—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- **XX ms** - –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–æ –∫–ª–∏–µ–Ω—Ç–∞ (ping time)

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

```bash
asterisk -rx "core show channels"
```

**–í–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞ –æ–∂–∏–¥–∞–µ—Ç—Å—è:**
```
Channel              Location             State   Application(Data)
SIP/1001-00000001    2001@from-internal:1 Up      Dial(SIP/2001,tr)
SIP/2001-00000002    (None)               Up      AppDial((Outgoing Line))
2 active channels
1 active call
```

### 3. –¢–µ—Å—Ç–æ–≤–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –∑–≤–æ–Ω–∫–æ–≤

| –û—Ç –∫–æ–≥–æ | –ö–æ–º—É | –ú–∞—Ä—à—Ä—É—Ç | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
| --- | --- | --- | --- | --- |
| 1001 | 1002 | VLAN 300 ‚Üí VLAN 500 ‚Üí VLAN 400 | –ó–≤–æ–Ω–æ–∫ —É—Å–ø–µ—à–µ–Ω | ‚úÖ |
| 1001 | 2001 | VLAN 300 ‚Üí VLAN 500 ‚Üí GRE ‚Üí VLAN 200 | –ó–≤–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å | ‚úÖ |
| 1002 | 2002 | VLAN 400 ‚Üí VLAN 500 ‚Üí GRE ‚Üí VLAN 200 | –ó–≤–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å | ‚úÖ |
| 2001 | 1001 | VLAN 200 ‚Üí GRE ‚Üí VLAN 500 ‚Üí VLAN 300 | –û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫ | ‚úÖ |
| 2002 | 1002 | VLAN 200 ‚Üí GRE ‚Üí VLAN 500 ‚Üí VLAN 400 | –û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫ | ‚úÖ |
| 2001 | 2002 | VLAN 200 (–≤–Ω—É—Ç—Ä–∏ –æ—Ñ–∏—Å–∞ A) | –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–≤–æ–Ω–æ–∫ | ‚úÖ |

---

## üìÅ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é |
| --- | --- | --- |
| `/etc/sysconfig/network-scripts/ifcfg-eth0` | –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | ‚úÖ –î–∞ |
| `/etc/asterisk/sip_additional.conf` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SIP | ‚ùå –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è FreePBX |
| `/etc/asterisk/extensions_additional.conf` | Dialplan | ‚ùå –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è FreePBX |
| `/var/log/asterisk/full` | –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ | - (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ) |

> **‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –§–∞–π–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_additional` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è FreePBX. –ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é!

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
| --- | --- | --- |
| **–ù–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** | –ù–µ–≤–µ—Ä–Ω—ã–π IP/–ø–æ—Ä—Ç | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `192.168.50.50:5060` |
| **Registration failed** | –ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Secret –≤ Extensions: `P@ssw0rd` |
| **No audio** | Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç RTP | –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã 10000-20000/UDP –Ω–∞ fw-cod |
| **–û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∑–≤—É–∫** | RTP –ø–æ—Ä—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã | –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞ fw-cod –¥–ª—è RTP |
| **–≠—Ö–æ** | –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–µ–∫–∞–º–∏ | Settings ‚Üí Asterisk SIP ‚Üí –æ—Ç–∫–ª—é—á–∏—Ç–µ —ç—Ö–æ |
| **Can't register** | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | `asterisk -rx "sip prune realtime peer 1001"` |

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Asterisk

```bash
# –°—Ç–∞—Ç—É—Å SIP-–ø–∏—Ä–æ–≤
asterisk -rx "sip show peers"

# –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
asterisk -rx "core show channels"

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ SIP
asterisk -rx "sip reload"

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å
asterisk -rvvv
```

---

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](../README.md)
